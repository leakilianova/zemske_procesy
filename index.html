<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Co s ÄÃ­m souvisÃ­? - geografickÃ¡ vÃ½zva</title>
    <!-- NaÄtenÃ­ Tailwind CSS pro modernÃ­ a responzivnÃ­ design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* NastavenÃ­ fontu a pozadÃ­ pro celou strÃ¡nku - JemnÃ¡ bÃ©Å¾ovÃ¡ */
        body {
            background-color: #f7f3e8; /* SvÄ›tlÃ¡, teplÃ¡ bÃ©Å¾ovÃ¡ */
            font-family: 'Inter', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        /* ZÃ¡kladnÃ­ styl pro tlaÄÃ­tka odpovÄ›dÃ­ */
        .answer-button {
            transition: all 0.2s ease;
            word-wrap: break-word;
            white-space: normal;
            height: auto;
            min-height: 3.5rem; /* ZvÃ½Å¡enÃ­ minimÃ¡lnÃ­ vÃ½Å¡ky pro delÅ¡Ã­ odpovÄ›di */
        }
        /* Styly pro zpÄ›tnou vazbu po kliknutÃ­ */
        .correct-answer {
            background-color: #4ade80 !important; /* Green 400 */
            border-color: #16a34a !important; /* Green 600 */
            color: #166534 !important; /* Green 800 */
        }
        .incorrect-answer {
            background-color: #f87171 !important; /* Red 400 */
            border-color: #dc2626 !important; /* Red 600 */
            color: #991b1b !important; /* Red 800 */
        }
    </style>
</head>
<body>

    <div id="app" class="w-full max-w-2xl bg-white p-6 md:p-10 rounded-3xl shadow-2xl border border-yellow-200">

        <!-- Nadpis a SkÃ³re -->
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-800 tracking-tight leading-tight">
                Co s ÄÃ­m souvisÃ­? ğŸ—ºï¸
            </h1>
            <p class="text-2xl font-extrabold text-blue-600">
                ğŸŒ - GeografickÃ¡ vÃ½zva â›°ï¸
            </p>
            <p id="score-display" class="text-xl mt-2 font-medium text-gray-500">
                SkÃ³re: 0 / 0
            </p>
        </header>

        <!-- KvÃ­zovÃ© rozhranÃ­ -->
        <div id="quiz-screen" class="space-y-6">
            <p id="question-text" class="text-xl sm:text-2xl font-semibold text-gray-700 bg-yellow-50 p-4 rounded-xl border-l-4 border-blue-500">
                â“ NaÄÃ­tÃ¡nÃ­ otÃ¡zky...
            </p>
            
            <!-- Kontejner pro tlaÄÃ­tka odpovÄ›dÃ­ -->
            <div id="answers-container" class="space-y-4">
                <!-- TlaÄÃ­tka se vygenerujÃ­ JavaScriptem -->
            </div>

            <!-- TlaÄÃ­tko DalÅ¡Ã­ otÃ¡zka (skrytÃ© na zaÄÃ¡tku) -->
            <button id="next-button" 
                    class="w-full py-3 px-6 text-lg font-bold rounded-xl 
                           bg-yellow-500 text-white shadow-md hover:bg-yellow-600 
                           focus:outline-none focus:ring-4 focus:ring-yellow-300 
                           disabled:opacity-50 transition-all duration-300 hidden"
                    onclick="loadNextQuestion()"
                    disabled>
                ğŸ‘‰ DalÅ¡Ã­ otÃ¡zka
            </button>
            
            <!-- ZpÄ›tnÃ¡ vazba (skrytÃ¡ na zaÄÃ¡tku) -->
            <div id="feedback-message" class="text-center font-bold text-lg hidden p-3 rounded-lg"></div>
        </div>
        
        <!-- ÃšvodnÃ­/KoneÄnÃ¡ obrazovka (skrytÃ¡ na zaÄÃ¡tku) -->
        <div id="start-end-screen" class="text-center p-8 space-y-6">
            <h2 id="start-end-title" class="text-3xl font-bold text-gray-800">VÃ­tejte! ğŸ‘‹</h2>
            <p id="start-end-text" class="text-lg text-gray-600">
                Otestujte si, jak procesy a jevy na Zemi navzÃ¡jem souvisÃ­. OdpovÄ›zte na 10 nÃ¡hodnÃ½ch otÃ¡zek z tÃ©mat Stavba ZemÄ›, Klima a Eroze. ğŸ“š
            </p>
            <button id="start-button" 
                    class="w-full py-4 px-8 text-xl font-bold rounded-xl 
                           bg-blue-600 text-white shadow-xl hover:bg-blue-700 
                           focus:outline-none focus:ring-4 focus:ring-blue-300 
                           transition-all duration-300"
                    onclick="startGame()">
                ğŸš€ ZaÄÃ­t hrÃ¡t
            </button>
        </div>

    </div>

    <script>
        // --- DATA (OtÃ¡zky a OdpovÄ›di zamÄ›Å™enÃ© na procesy a vztahy) ---
        const questionsData = [
            {
                question: "Co je pÅ™Ã­mou **pÅ™Ã­Äinou** pohybu litosfÃ©rickÃ½ch desek, kterÃ½ vede ke vzniku kontinentÅ¯ a pohoÅ™Ã­?",
                category: "Stavba ZemÄ› (Proces)",
                answer: "KonvekÄnÃ­ proudy v zemskÃ©m plÃ¡Å¡ti (pomalÃ© deformovÃ¡nÃ­ hornin teplem)",
                options: ["TekutÃ© vnÄ›jÅ¡Ã­ jÃ¡dro, kterÃ© otÃ¡ÄÃ­ celou planetou", "GravitaÄnÃ­ pÅ™itaÅ¾livost Slunce a MÄ›sÃ­ce", "KonvekÄnÃ­ proudy v zemskÃ©m plÃ¡Å¡ti (pomalÃ© deformovÃ¡nÃ­ hornin teplem)", "NeustÃ¡lÃ¡ rotace ZemÄ› kolem osy"]
            },
            {
                question: "KterÃ½ proces **vytvÃ¡Å™Ã­** Ãºtvary jako 'pouÅ¡tnÃ­ hÅ™ib' a je zpÅ¯soben obruÅ¡ovÃ¡nÃ­m mÄ›kkÃ© skÃ¡ly pÃ­skem unÃ¡Å¡enÃ½m vÄ›trem?",
                category: "Eroze (Proces)",
                answer: "Abraze",
                options: ["Deflace", "Sesuv pÅ¯dy", "Abraze", "Vznik vÃ¡dÃ­"]
            },
            {
                question: "Co **vede** ke vzniku suchÃ© oblasti na zÃ¡vÄ›trnÃ© stranÄ› pohoÅ™Ã­, kde jiÅ¾ spadla vÄ›tÅ¡ina srÃ¡Å¾ek?",
                category: "Klima (Vztah)",
                answer: "SrÃ¡Å¾kovÃ½ stÃ­n",
                options: ["VysokÃ© albedo povrchu", "TlakovÃ¡ nÃ­Å¾e", "SrÃ¡Å¾kovÃ½ stÃ­n", "KonvekÄnÃ­ proud v atmosfÃ©Å™e"]
            },
            {
                question: "JakÃ½ **nÃ¡sledek** mÃ¡ fakt, Å¾e je ve mÄ›stech vÄ›tÅ¡ina povrchu nahrazena tmavÃ½m asfaltem?",
                category: "PoÄasÃ­/Klima (Vztah/Proces)",
                answer: "ZvyÅ¡uje pohlcovÃ¡nÃ­ sluneÄnÃ­ch paprskÅ¯ (sniÅ¾uje albedo), coÅ¾ vede k vyÅ¡Å¡Ã­m teplotÃ¡m.",
                options: ["ZvyÅ¡uje rychlost deflace materiÃ¡lu", "ZpÅ¯sobuje rychlejÅ¡Ã­ obruÅ¡ovÃ¡nÃ­ (abrazi) budov vÄ›trem", "ZvyÅ¡uje pohlcovÃ¡nÃ­ sluneÄnÃ­ch paprskÅ¯ (sniÅ¾uje albedo), coÅ¾ vede k vyÅ¡Å¡Ã­m teplotÃ¡m.", "Vede ke vzniku tlakovÃ© nÃ­Å¾e nad mÄ›stem"]
            },
            {
                question: "Co je **hlavnÃ­m dÅ¯sledkem** sklonu rotaÄnÃ­ osy ZemÄ› pÅ™i jejÃ­m obÄ›hu kolem Slunce?",
                category: "Vlastnosti ZemÄ› (Vztah)",
                answer: "StÅ™Ã­dÃ¡nÃ­ roÄnÃ­ch obdobÃ­ a rozdÃ­lnÃ¡ dÃ©lka dne a noci (slunovraty/rovnodennosti)",
                options: ["RozdÄ›lenÃ­ planety na severnÃ­ a jiÅ¾nÃ­ polokouli", "Vznik zemskÃ©ho magnetickÃ©ho pole", "StÅ™Ã­dÃ¡nÃ­ roÄnÃ­ch obdobÃ­ a rozdÃ­lnÃ¡ dÃ©lka dne a noci (slunovraty/rovnodennosti)", "Tvorba rovnobÄ›Å¾ek a polednÃ­kÅ¯"]
            },
            {
                question: "JakÃ¡ je **souvislost** mezi tekutÃ½m vnÄ›jÅ¡Ã­m jÃ¡drem a globÃ¡lnÃ­ ochranou pÅ™ed sluneÄnÃ­m vÄ›trem?",
                category: "Stavba ZemÄ› (Vztah)",
                answer: "Pohyb tekutÃ©ho Å¾eleza a niklu vytvÃ¡Å™Ã­ magnetickÃ© pole, kterÃ© chrÃ¡nÃ­ Zemi.",
                options: ["TekutÃ© jÃ¡dro tvoÅ™Ã­ astenosfÃ©ru, po kterÃ© se desky pohybujÃ­.", "TekutÃ© jÃ¡dro zpÅ¯sobuje sesuvy pÅ¯dy a laviny na povrchu.", "Pohyb tekutÃ©ho Å¾eleza a niklu vytvÃ¡Å™Ã­ magnetickÃ© pole, kterÃ© chrÃ¡nÃ­ Zemi.", "TekutÃ© jÃ¡dro umoÅ¾Åˆuje rychlou rotaci ZemÄ›."]
            },
            {
                question: "PopiÅ¡te **proces** vzniku dun:",
                category: "Eroze (Proces)",
                answer: "JemnÃ½ materiÃ¡l je vÄ›trem odvÃ¡t (deflace) z jinÃ½ch mÃ­st a uklÃ¡dÃ¡n na jednom mÃ­stÄ›.",
                options: ["SilnÃ¡ voda odplavuje lehkÃ© ÄÃ¡stice do moÅ™e", "ObruÅ¡ovÃ¡nÃ­ hornin (abraze) vÃ¡dÃ­", "Gravitace pÅ™itahuje tÄ›Å¾kÃ½ materiÃ¡l ze svahÅ¯", "JemnÃ½ materiÃ¡l je vÄ›trem odvÃ¡t (deflace) z jinÃ½ch mÃ­st a uklÃ¡dÃ¡n na jednom mÃ­stÄ›."]
            },
            {
                question: "Co **aktivnÄ› sniÅ¾uje** teplotu v zalesnÄ›nÃ½ch oblastech (napÅ™. ve mÄ›stech) vlivem odpaÅ™ovÃ¡nÃ­ vody z listÅ¯ rostlin?",
                category: "PoÄasÃ­/Klima (Proces)",
                answer: "Transpirace (nebo odpar vody rostlinami), kterÃ¡ spotÅ™ebovÃ¡vÃ¡ teplo.",
                options: ["VysokÃ© albedo listÅ¯", "TlakovÃ¡ vÃ½Å¡e", "Gravitace, kterÃ¡ stahuje chladnÃ½ vzduch dolÅ¯", "Transpirace (nebo odpar vody rostlinami), kterÃ¡ spotÅ™ebovÃ¡vÃ¡ teplo."]
            },
            {
                question: "Jak **ovlivÅˆuje** oceÃ¡nskÃ© klima teplotnÃ­ vÃ½kyvy v porovnÃ¡nÃ­ s kontinentÃ¡lnÃ­m klimatem?",
                category: "Klima (Vztah)",
                answer: "ZmÃ­rÅˆuje je, teplotnÃ­ amplitudy (rozdÃ­ly) jsou nÃ­zkÃ©.",
                options: ["Zesiluje je, teplotnÃ­ amplitudy (rozdÃ­ly) jsou vysokÃ©.", "ZmÃ­rÅˆuje je, teplotnÃ­ amplitudy (rozdÃ­ly) jsou nÃ­zkÃ©.", "ZpÅ¯sobuje polÃ¡rnÃ­ den a noc.", "Vede ke vzniku pouze kontinentÃ¡lnÃ­ kÅ¯ry."]
            },
            {
                question: "ProÄ se pouÅ¡tÄ› nachÃ¡zÃ­ typicky v oblasti obratnÃ­kÅ¯, a ne pÅ™Ã­mo u rovnÃ­ku (tropÅ¯)?",
                category: "Klima (Proces)",
                answer: "Nad rovnÃ­kem prÅ¡Ã­ (vzduch stoupÃ¡), u obratnÃ­kÅ¯ suchÃ½ vzduch klesÃ¡ a nasÃ¡vÃ¡ vlhkost.",
                options: ["GravitaÄnÃ­ eroze je na rovnÃ­ku nejsilnÄ›jÅ¡Ã­.", "Nad rovnÃ­kem je niÅ¾Å¡Ã­ albedo, u obratnÃ­kÅ¯ je nejvyÅ¡Å¡Ã­ tlakovÃ¡ nÃ­Å¾e.", "Nad rovnÃ­kem prÅ¡Ã­ (vzduch stoupÃ¡), u obratnÃ­kÅ¯ suchÃ½ vzduch klesÃ¡ a nasÃ¡vÃ¡ vlhkost.", "Na obratnÃ­cÃ­ch dochÃ¡zÃ­ k abrazi, kterÃ¡ odnÃ¡Å¡Ã­ vegetaci."]
            },
            {
                question: "KterÃ¡ vrstva zemskÃ©ho tÄ›lesa mÃ¡ niÅ¾Å¡Ã­ hustotu a je silnÄ›jÅ¡Ã­ (aÅ¾ 70 km), a proto tvoÅ™Ã­ **zÃ¡klad kontinentÅ¯**?",
                category: "Stavba ZemÄ› (Vztah)",
                answer: "KontinentÃ¡lnÃ­ kÅ¯ra (tvoÅ™enÃ¡ pÅ™evÃ¡Å¾nÄ› Å¾ulou)",
                options: ["OceÃ¡nskÃ¡ kÅ¯ra (tvoÅ™enÃ¡ pÅ™evÃ¡Å¾nÄ› ÄediÄem)", "ZemskÃ½ plÃ¡Å¡Å¥", "KontinentÃ¡lnÃ­ kÅ¯ra (tvoÅ™enÃ¡ pÅ™evÃ¡Å¾nÄ› Å¾ulou)", "VnÄ›jÅ¡Ã­ jÃ¡dro"]
            },
            {
                question: "JakÃ½ je **rozdÃ­l** v pÅ¯sobenÃ­ vody a gravitace pÅ™i eroznÃ­ch procesech?",
                category: "Eroze (Vztah)",
                answer: "Voda je pÅ™Ã­mÃ½ nosiÄ, zatÃ­mco gravitace Äasto jen strhÃ¡vÃ¡ ÄÃ¡st, kterou uÅ¾ jinÃ½ faktor uvolnil.",
                options: ["Voda vytvÃ¡Å™Ã­ pouÅ¡tnÃ­ hÅ™iby, zatÃ­mco gravitace vytvÃ¡Å™Ã­ meandry.", "Gravitace zpÅ¯sobuje abrazi, zatÃ­mco voda deflaci.", "Voda je pÅ™Ã­mÃ½ nosiÄ, zatÃ­mco gravitace Äasto jen strhÃ¡vÃ¡ ÄÃ¡st, kterou uÅ¾ jinÃ½ faktor uvolnil.", "Gravitace mÃ¡ vliv jen na oceÃ¡nskou kÅ¯ru."]
            }
        ];

        // --- STAV HRY ---
        let shuffledQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let answeredQuestionsCount = 0;
        const totalQuestions = 10; // MaximÃ¡lnÃ­ poÄet otÃ¡zek pro jedno kolo

        // --- DOM ELEMENTY ---
        const app = document.getElementById('app');
        const startEndScreen = document.getElementById('start-end-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const startEndTitle = document.getElementById('start-end-title');
        const startEndText = document.getElementById('start-end-text');
        const questionText = document.getElementById('question-text');
        const answersContainer = document.getElementById('answers-container');
        const scoreDisplay = document.getElementById('score-display');
        const nextButton = document.getElementById('next-button');
        const feedbackMessage = document.getElementById('feedback-message');

        // --- POMOCNÃ‰ FUNKCE ---

        /**
         * NÃ¡hodnÄ› zamÃ­chÃ¡ pole.
         * @param {Array} array
         * @returns {Array} ZamÃ­chanÃ© pole.
         */
        function shuffleArray(array) {
            let currentIndex = array.length, randomIndex;
            while (currentIndex !== 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
            }
            return array;
        }

        /**
         * Inicializuje hru: vybere a zamÃ­chÃ¡ otÃ¡zky.
         */
        function startGame() {
            // SkrÃ½t ÃºvodnÃ­/koneÄnou obrazovku, zobrazit kvÃ­z
            startEndScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');

            // Reset skÃ³re a indexu
            score = 0;
            currentQuestionIndex = 0;
            answeredQuestionsCount = 0;
            updateScoreDisplay();
            
            // Vybrat 10 nÃ¡hodnÃ½ch otÃ¡zek a zamÃ­chat je
            shuffledQuestions = shuffleArray([...questionsData]).slice(0, totalQuestions);

            loadNextQuestion();
        }

        /**
         * NaÄte a zobrazÃ­ dalÅ¡Ã­ otÃ¡zku, nebo zobrazÃ­ konec hry.
         */
        function loadNextQuestion() {
            // SkrÃ½t zpÄ›tnou vazbu a tlaÄÃ­tko DalÅ¡Ã­
            feedbackMessage.classList.add('hidden');
            nextButton.classList.add('hidden');
            nextButton.disabled = true;

            if (currentQuestionIndex >= totalQuestions || currentQuestionIndex >= shuffledQuestions.length) {
                showEndScreen();
                return;
            }

            const currentQ = shuffledQuestions[currentQuestionIndex];
            questionText.textContent = `OtÃ¡zka ${currentQuestionIndex + 1}/${totalQuestions}: ${currentQ.question}`;
            answersContainer.innerHTML = '';

            // ZamÃ­chat moÅ¾nosti pro aktuÃ¡lnÃ­ otÃ¡zku
            const options = shuffleArray([...currentQ.options]);

            options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.className = 'answer-button w-full py-3 px-4 text-left text-lg font-semibold rounded-xl border-2 border-blue-300 bg-blue-100 text-gray-700 hover:bg-blue-200 hover:shadow-lg transition-all duration-200';
                button.onclick = () => checkAnswer(button, option, currentQ.answer);
                answersContainer.appendChild(button);
            });
            
            // Povolit interakci s tlaÄÃ­tky
            answersContainer.querySelectorAll('.answer-button').forEach(btn => btn.disabled = false);
        }

        /**
         * Zkontroluje odpovÄ›Ä uÅ¾ivatele a poskytne zpÄ›tnou vazbu.
         * @param {HTMLElement} clickedButton TlaÄÃ­tko, na kterÃ© bylo kliknuto.
         * @param {string} selectedAnswer VybranÃ¡ odpovÄ›Ä.
         * @param {string} correctAnswer SprÃ¡vnÃ¡ odpovÄ›Ä.
         */
        function checkAnswer(clickedButton, selectedAnswer, correctAnswer) {
            // Zablokovat vÅ¡echna tlaÄÃ­tka, aby uÅ¾ivatel nemohl kliknout znovu
            answersContainer.querySelectorAll('.answer-button').forEach(btn => btn.disabled = true);
            
            // Zobrazit tlaÄÃ­tko DalÅ¡Ã­
            nextButton.classList.remove('hidden');
            nextButton.disabled = false;
            
            // Zobrazit zpÄ›tnou vazbu
            feedbackMessage.classList.remove('hidden');
            
            answeredQuestionsCount++; // ZapoÄÃ­tat zodpovÄ›zenou otÃ¡zku

            if (selectedAnswer === correctAnswer) {
                score++;
                clickedButton.classList.add('correct-answer');
                feedbackMessage.textContent = 'âœ… SprÃ¡vnÄ›! PokraÄujte na dalÅ¡Ã­ otÃ¡zku.';
                feedbackMessage.className = 'text-center font-bold text-lg p-3 rounded-lg bg-green-200 text-green-800';
            } else {
                clickedButton.classList.add('incorrect-answer');
                feedbackMessage.textContent = `âŒ Å patnÄ›. SprÃ¡vnÃ¡ odpovÄ›Ä byla: ${correctAnswer}.`;
                feedbackMessage.className = 'text-center font-bold text-lg p-3 rounded-lg bg-red-200 text-red-800';
                
                // ZvÃ½raznit sprÃ¡vnou odpovÄ›Ä, pokud ji uÅ¾ivatel nevybral
                answersContainer.querySelectorAll('.answer-button').forEach(btn => {
                    if (btn.textContent === correctAnswer) {
                        btn.classList.add('correct-answer');
                    }
                });
            }

            updateScoreDisplay();
            currentQuestionIndex++;
        }

        /**
         * Aktualizuje zobrazenÃ­ skÃ³re na obrazovce.
         */
        function updateScoreDisplay() {
            scoreDisplay.textContent = `SkÃ³re: ${score} / ${answeredQuestionsCount}`;
        }

        /**
         * ZobrazÃ­ vÃ½slednou obrazovku po dokonÄenÃ­ kvÃ­zu.
         */
        function showEndScreen() {
            quizScreen.classList.add('hidden');
            startEndScreen.classList.remove('hidden');

            startEndTitle.textContent = `ğŸ‰ Konec hry! VÃ¡Å¡ vÃ½sledek: ${score} z ${totalQuestions} ğŸ‰`;
            
            let resultMessage = '';
            const percentage = (score / totalQuestions) * 100;

            if (percentage === 100) {
                resultMessage = 'ğŸ† FantastickÃ©! ZnÃ¡te perfektnÄ› vÅ¡echny souvislosti. Jste mistr zemÄ›pisu! ğŸ¥‡';
            } else if (percentage >= 70) {
                resultMessage = 'ğŸ‘ Velmi dobrÃ½ vÃ½kon! VÄ›tÅ¡inu procesÅ¯ chÃ¡pete sprÃ¡vnÄ›. Zopakujte si ty, kterÃ© vÃ¡m unikly. ğŸ§ ';
            } else if (percentage >= 40) {
                resultMessage = 'ğŸ§ DobrÃ© zÃ¡klady. DoporuÄuji si projÃ­t materiÃ¡ly a zamÄ›Å™it se na vztahy pÅ™Ã­Äina-nÃ¡sledek.';
            } else {
                resultMessage = 'ğŸ˜” JeÅ¡tÄ› je co zlepÅ¡ovat. Pojmy si poÅ™Ã¡dnÄ› projdÄ›te a zkuste to znovu! ğŸ“–';
            }
            
            startEndText.textContent = resultMessage;
            document.getElementById('start-button').textContent = 'ğŸ”„ Zkusit znovu';
        }

        // --- INICIALIZACE ---
        // Zobrazit ÃºvodnÃ­ obrazovku pÅ™i naÄtenÃ­
        window.onload = function() {
            quizScreen.classList.add('hidden');
            startEndScreen.classList.remove('hidden');
        };

    </script>
</body>
</html>
